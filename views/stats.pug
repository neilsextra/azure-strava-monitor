extends layout

block content
  script(src="/javascripts/responder.js")
  div.main(style="width: 100%; height:100%; overflow:hidden;")
    div(style="position: absolute; top:0px; bottom:0px; left:0px; right:0px; background: url('/icons/commonwealth-park-canberra-act-bike-paths-events-p11.jpg'); background-size: cover;  background-repeat: no-repeat;")
      div(style="position: absolute; top:30px; height:76px; left:30px; right:30px; background-color:black; color:white; border:solid; opacity:0.7;")
    div(style="position: absolute; top:46px; left: 50px;")
      img(src="/icons/bicycle-rider.svg" style="height:48px; width:48px;")
    div(style="position: absolute; top:-2px; left: 120px; color:white; font-size:48px;")
      p Competitor - #{user.displayName}
    
    div(style="position: absolute; top:40px; right:200px; border: solid; color: white; padding:10px;")
      a(href="/update" style="color: white; font-size: 32px; font-weight: bold; text-decoration: none; ") Update

    div(style="position: absolute; top:40px; right:50px; border: solid; color: white; padding:10px;")
      a(href="/logout" style="color: white; font-size: 32px; font-weight: bold; text-decoration: none; ") Logout

    div#competitor
      div(style="position:absolute; top:30px; left:30px;")
        if user._json.profile == 'avatar/athlete/large.png'
          img(src="/icons/user.svg" style="width:140px; height:140px;")
        else
          img(src=`${user.photos[0].value}` style="z-order:10; width:140px; height:140px; opacity:1.0;")
        p 
        b #{user.name.givenName} #{user.name.familyName}
      div(style="position:absolute; top:20px; left:330px; font-size:32px; ")
        b Cycling
      div(style="position:absolute; top:50px; left:360px;")
        p Rides:
        p Distance:
        p Elapsed:
      div(style="position:absolute; top:50px; left:480px;")
        p #{stats.ytd_ride_totals.count}
        p #{stats.ytd_ride_totals.distance}
        p #{stats.ytd_ride_totals.elapsed_time}
      div(style="position:absolute; top:20px; left:610px; font-size:32px; ")
        b Running
      div(style="position:absolute; top:50px; left:640px;")
        p Runs:
        p Distance:
        p Elapsed:
      div(style="position:absolute; top:50px; left:760px;")
        p #{stats.ytd_run_totals.count}
        p #{stats.ytd_run_totals.distance}
        p #{stats.ytd_run_totals.elapsed_time}
      div(style="position:absolute; top:20px; left:890px; font-size:32px; ")
        b Swimming
      div(style="position:absolute; top:50px; left:920px;")
        p Swims:
        p Distance:
        p Elapsed:
      div(style="position:absolute; top:50px; left:1040px;")
        p #{stats.ytd_swim_totals.count}
        p #{stats.ytd_swim_totals.distance}
        p #{stats.ytd_swim_totals.elapsed_time}
        
      div(style="position:absolute; top:20px; right:600px; font-size:32px; ")
        b Points
      div(style="position:absolute; top:50px; right:570px;")
        p Ride:
        p Distance:
        p Total:
      div(style="position:absolute; top:50px; right:540px;")
        p 0
        p 0
        p 0

      div(style="position:absolute; top:30px; right:30px;")
        img(src="/icons/trophy-cup.svg" style="height:200px; width:200px;")
      div(style="position:absolute; top:-20px; right:84px; width:90px; color:black; font-size:64px; text-align:center; font-weight: bold;")
        p 2

    div#competitors
      each activity in activities
        div(style="border: solid; height:350px; margin:20px; padding:20px; width:100%;")
          div(style="position:relative; width:100%; height:100%;")
            div(style="position:absolute; top:10px; left:20px;")
              p Name:
              p Date:
              p Distance:
              p Moving (Time):
              p Elapsed (Time):
            div(style="position:absolute; top:10px; left:230px;")
              p #{activity.name} 
              p #{activity.start_date}
              p #{activity.distance}
              p #{activity.moving_time}
              p #{activity.elapsed_time}
    
